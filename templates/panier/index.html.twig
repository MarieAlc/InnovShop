{% extends 'base.html.twig' %}

{% block title %}Panier{% endblock %}
{% block body %}

<h1>Mon panier</h1>

{% if panier is empty %}
    <p>Votre panier est vide.</p>
{% else %}
<ul>
    {% for ligne in panier %}
        <li style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
            <img src="{{ asset('uploads/articles/' ~ ligne.article.image) }}" alt="Image de l'article" style="width: 50px; height: auto; object-fit: cover;">
            <div>
                {{ ligne.article.titre }} - 
                {{ ligne.taille ? ligne.taille.valeur : 'Taille non dÃ©finie' }} /
                {{ ligne.couleur ? ligne.couleur.valeur : 'Couleur non dÃ©finie' }} :
                {{ ligne.article.prix }} â‚¬
            </div>
                <a href="{{ path('panier_supprimer', {'id': ligne.id}) }}"
                       onclick="return confirm('Supprimer cette ligne ?')">ðŸ—‘ Supprimer</a>
        </li>
    {% endfor %}
</ul>
<p><strong>Total :</strong> {{ total }} â‚¬</p>

    <a href="{{ path('commande_recap') }}">Passez votre commande</a>
{% endif %}

{% endblock %}
